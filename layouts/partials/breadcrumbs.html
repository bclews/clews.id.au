{{/* Breadcrumb Navigation with Schema.org markup */}}
{{ if not .IsHome }}
<nav aria-label="Breadcrumb" class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="{{ .Site.BaseURL }}">
        <span itemprop="name">Home</span>
      </a>
      <meta itemprop="position" content="1" />
    </li>
    {{ if .Section }}
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="{{ .Site.BaseURL }}{{ .Section }}/">
        <span itemprop="name">{{ .Section | title }}</span>
      </a>
      <meta itemprop="position" content="2" />
    </li>
    {{ end }}
    {{ if .IsPage }}
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <span itemprop="name">{{ .Title }}</span>
      <meta itemprop="item" content="{{ .Permalink }}" />
      <meta itemprop="position" content="{{ if .Section }}3{{ else }}2{{ end }}" />
    </li>
    {{ end }}
  </ol>
</nav>

{{/* JSON-LD BreadcrumbList Schema */}}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "{{ .Site.BaseURL }}"
    }
    {{ if .Section }},
    {
      "@type": "ListItem",
      "position": 2,
      "name": "{{ .Section | title }}",
      "item": "{{ .Site.BaseURL }}{{ .Section }}/"
    }
    {{ end }}
    {{ if .IsPage }},
    {
      "@type": "ListItem",
      "position": {{ if .Section }}3{{ else }}2{{ end }},
      "name": "{{ .Title }}",
      "item": "{{ .Permalink }}"
    }
    {{ end }}
  ]
}
</script>

<style>
.breadcrumbs {
  margin: 1rem 0;
  font-size: 0.9rem;
}
.breadcrumbs ol {
  list-style: none;
  padding: 0;
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}
.breadcrumbs li:not(:last-child)::after {
  content: "â€º";
  margin-left: 0.5rem;
  color: var(--text-color);
  opacity: 0.6;
}
.breadcrumbs a {
  text-decoration: none;
  color: var(--link-color);
}
.breadcrumbs a:hover {
  text-decoration: underline;
}
.breadcrumbs li:last-child span {
  color: var(--text-color);
  opacity: 0.8;
}
</style>
{{ end }}
